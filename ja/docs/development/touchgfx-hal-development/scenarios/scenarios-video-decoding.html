<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/touchgfx-hal-development/scenarios/scenarios-video-decoding">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.21/ja/opensearch.xml">
<script src="/4.21/ja/js/one-trust.js"></script>
<script src="/4.21/js/fix-location.js"></script><title data-rh="true">ビデオ･デコーディング | TouchGFX Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.21/ja/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.21/ja/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ビデオ･デコーディング | TouchGFX Documentation"><link data-rh="true" rel="icon" href="/4.21/ja/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/ko/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/4.21/ja/assets/css/styles.3ea4e563.css">
<link rel="preload" href="/4.21/ja/assets/js/runtime~main.1adc3282.js" as="script">
<link rel="preload" href="/4.21/ja/assets/js/main.81301f79.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region"><a href="#" class="skipToContent_fXgn">メイン･コンテンツまでスキップ</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.21/ja/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.21/ja/img/logo.svg" alt="TouchGFX" class="themedImage_ToTc themedImage--light_HNdA"><img src="/4.21/ja/img/logo.svg" alt="TouchGFX" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">日本語</a><ul class="dropdown__menu"><li><a href="/4.21/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/4.21/ko/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" target="_self" rel="noopener noreferrer" class="dropdown__link">한국어</a></li><li><a href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">日本語</a></li><li><a href="/4.21/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li><li><a href="/4.21/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding" target="_self" rel="noopener noreferrer" class="dropdown__link">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.21/ja/docs/introduction/welcome">4.21</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding">4.21</a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">コミュニティ</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="上へスクロールしてもどる" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ja/docs/category/introduction">概要</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;概要&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ja/docs/category/basic-concepts">基本概念</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;基本概念&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.21/ja/docs/development/development-introduction">開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ja/docs/development/hardware-selection/hardware-selection-introduction">ハードウェアの選択</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;ハードウェアの選択&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ja/docs/development/board-bring-up/board-introduction">ボード立ち上げ</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;ボード立ち上げ&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL（抽象化レイヤ）開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;TouchGFX AL（抽象化レイヤ）開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/touchgfx-architecture">抽象化レイヤ･アーキテクチャ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ja/docs/category/generator-user-guide">Generator User Guide</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;Generator User Guide&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.21/ja/docs/category/scenarios">シナリオ</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;シナリオ&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-ltdc-parallel-rgb">LTDC / パラレルRGB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC &amp; SPIディスプレイ･インタフェース</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-framebuffer-strategies">フレームバッファ設定</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos">Real Time Operating System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-video-decoding">ビデオ･デコーディング</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-dsi-video-mode">MIPI-DSIビデオ･モード</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-measure-performance">パフォーマンスの測定</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ja/docs/development/ui-development/ui-development-introduction">UI開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;UI開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ja/docs/category/scenarios-2">シナリオ</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;シナリオ&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ja/docs/category/miscellaneous-1">その他</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;その他&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ja/docs/category/tutorials">チュートリアル</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;チュートリアル&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4.21/ja/docs/api/classes/classtouchgfx_1_1_abstract_button">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ja/docs/category/resources">リソース</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;リソース&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリスト"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.21/ja/docs/development/development-introduction"><span itemprop="name">開発</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.21/ja/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction"><span itemprop="name">TouchGFX AL（抽象化レイヤ）開発</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.21/ja/docs/category/scenarios"><span itemprop="name">シナリオ</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ビデオ･デコーディング</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページでは</button></div><div class="theme-doc-markdown markdown"><header><h1>ビデオ･デコーディング</h1></header><p>This section shows how to configure the <a href="/4.21/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding">TouchGFX Generator</a> to generate a TouchGFX HAL that has video decoding capabilities.</p><p>このシナリオを読む前に、TouchGFXでの<a href="/4.21/ja/docs/development/ui-development/touchgfx-engine-features/video">MJPEGビデオ</a>の使用に関するドキュメントおよび<a href="/4.21/ja/docs/development/ui-development/ui-components/miscellaneous/video">ビデオ･ウィジェット</a>自体に関するドキュメントに目を通してください。</p><p>次のシナリオでは、ソフトウェア（LibJPEG）またはハードウェア（JPEG）のいずれかを使用してTouchGFX HALでビデオ･デコーディングをサポートできるようにする方法について詳しく説明します。 このシナリオでは、STM32F7とSTM32H7の両方について説明します。ハードウェア（JPEG）デコーディングをサポートするためのSTM32CubeMXの設定がSTM32F7では若干異なるからです。</p><p>Be sure to <strong>read all sections</strong> in this article before configuring the MCU for your specific project.</p><p>Generally, the LibJPEG and JPEG configurations can be found in STM32CubeMX in the <em>Middleware</em> and <em>Multimedia</em> catagories:</p><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/cubemx-jpeg-configuration.webp" target="_blank"><img width="250" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/cubemx-jpeg-configuration.webp"></a><p>JPEG and LibJPEG setting in STM32CubeMX</p></div><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content"><li>STM32H750-DK、STM32F769-DISCOおよびSTM32F746G-DISCO TouchGFX Board Setup（TBS）の最新バージョンでは、STM32CubeMX設定によるソフトウェアとJPEGハードウェアの両方のデコーディングに対応しています。</li><li>Use the STM32CubeMX configurations found in these example projects as inspiration to get your specific MCU to support MJPEG Video Decoding.</li></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="video-rtos-support">RTOSのサポート<a class="hash-link" href="#video-rtos-support" title="見出しに直接リンク">​</a></h2><p>The <a href="/4.21/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding">Generator User Guide</a> mentions that <em>Single-</em> and <em>Double buffer</em> decoding strategies require a CMSIS compliant RTOS, such as FreeRTOS. TouchGFX Generator generates an entry point function <code>videoTaskFunc()</code>, that must be associated with a Video decoding task. STM32CubeMX can generate this configuration by defining the task and entry point function in the <em>Tasks and queues</em> tab of the <em>FreeRTOS</em> Middleware configuration.</p><p>The video task stack size (defined in words for CMSIS V2) and RTOS heap size are two important factors.</p><p>For software decoding the stack size must be carefully set because LibJPEG uses dynamic memory allocation. For hardware decoding the stack size can be substantially lower because there is no software stack which dynamically allocates memory.</p><p>FreeRTOSヒープは汎用的なアプリケーション + <code>0xA000</code>に対して十分な大きさがある必要があります。</p><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/freertos-video-task.webp" target="_blank"><img width="600" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/freertos-video-task.webp"></a><p>FreeRTOSタスクの設定</p></div><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/freertos-video-decoding-heap-size.webp" target="_blank"><img width="600" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/freertos-video-decoding-heap-size.webp"></a><p>FreeRTOSヒープ･サイズの設定</p></div><p>Based on the above configuration, STM32CubeMX generates the following code for the video task:</p><div class="code-header"><div><h5>main.c</h5></div></div><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* Definitions for VideoTask */</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">osThreadId_t VideoTaskHandle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> osThreadAttr_t VideoTask_attributes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;VideoTask&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">stack_size </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">priority </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">osPriority_t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> osPriorityLow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* creation of VideoTask */</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    VideoTaskHandle </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">osThreadNew</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">videoTaskFunc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">VideoTask_attributes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="code-header"><div><h5>FreeRTOSConfig.h</h5></div></div><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">configTOTAL_HEAP_SIZE</span><span class="token macro property">                    </span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token macro property expression">size_t</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token macro property expression number" style="color:rgb(247, 140, 108)">75000</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="software-decoding">ソフトウェア･デコーディング<a class="hash-link" href="#software-decoding" title="見出しに直接リンク">​</a></h2><p>The software decoding solution requires that the <strong>LibJPEG</strong> middleware is enabled from STM32CubeMX, as specified in <a href="/4.21/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding#video-decoding-type">Generator User Guide</a>. ソフトウェア･デコーディングの設定は、すべてのLibJPEG対応マイクロコントローラ（STM32F4、STM32F7、STM32H7）で同じです。</p><p>TouchGFX Software Decoderでは、LibJPEGでデコードされるデータのピクセル順序をBGRにする必要があります。 この設定がRGBのままの場合は、R色成分とB色成分がアプリケーション内でスワップされます。</p><p>Furthermore, the size of each pixel should be 3 bytes if using a 16-bit or 24-bit video RGB buffer or 4 if using a 32-bit video RGB buffer.</p><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/libjpeg-configuration.webp" target="_blank"><img width="500" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/libjpeg-configuration.webp"></a><p>LibJPEG Configuration for a 16-bit or 24-bit video RGB buffer</p></div><div class="highlight highlight-caution"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></div>Caution</h5></div><div class="highlight-content"><li>The RGB_ORDERING setting must be configured as BGR, and the pixel size must be set according to which video RGB buffer format is used.</li><li>If your application uses <b>Direct to Framebuffer</b> strategy in a <b>ARGB8888</b> (32-bit) application the <b>pixel size</b> must be set to 4</li></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="video-data">ビデオ･データ<a class="hash-link" href="#video-data" title="見出しに直接リンク">​</a></h3><div class="highlight highlight-caution"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></div>Caution</h5></div><div class="highlight-content">STM32CubeMX、TouchGFX GeneratorおよびTouchGFX Designerのビデオ･ウィジェットを使用する現在のデコーディング･ソリューションは、現時点ではSTボードに対してのみ機能します。ビデオ･データは既知のメモリ･マップドFlashにある特定のアドレスでアプリケーションにリンクされるからです。</div></div><p>EWARMプロジェクトの以下のコードは、TouchGFX Designerによって生成される追加オプションと、すべてのTouchGFX Board Packageについてリンカ･スクリプト内部に定義されている<code>ExtFlashSection</code>にデータが配置される方法を示しています。 これは、非メモリ･マップドFlashやこのセクションを定義しないプロジェクトでは機能しません。</p><div class="code-header"><div><h5>ewarm_project.ewp</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;option&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &lt;name&gt;IlinkExtraOptions&lt;/name&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &lt;state&gt;--image_input $PROJ_DIR$\..\TouchGFX\generated\videos\bin\washerdryer.bin,video_washerdryer_bin_start,ExtFlashSection,4&lt;/state&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &lt;state&gt;--keep video_washerdryer_bin_start&lt;/state&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/option&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>非メモリ･マップド･メモリにビデオ･データが含まれているプロジェクトについては、この記事の<code>FileReader</code>に関するセクションを参照してください。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-decoding">ハードウェア･デコーディング<a class="hash-link" href="#hardware-decoding" title="見出しに直接リンク">​</a></h2><p>The <a href="/4.21/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding">Generator User Guide</a> mentions that the <strong>JPEG IP</strong> must be enabled in STM32CubeMX to enable Hardware decoding.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stm32f769-disco">STM32F769-DISCO<a class="hash-link" href="#stm32f769-disco" title="見出しに直接リンク">​</a></h3><p>STM32F769などのJPEG対応STM32F7シリーズのJPEGの設定は、STM32H7シリーズとは若干異なります。 The <code>RGB_FORMAT</code> setting found in the <em>JPEG</em> configurations must respect the pixel format of the TouchGFX Framebuffer, <code>JPEG_RGB565</code> in the example below.</p><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/jpeg-hw-configuration.webp" target="_blank"><img width="450" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/jpeg-hw-configuration.webp"></a><p>JPEGのパラメータ設定</p></div><p>Use DMA to transfer data to (memory-to-peripheral) and from (peripheral-to-memory) the JPEG peripheral through the <em>DMA Settings</em> tab found in <em>JPEG</em> configurations. <code>IN</code>や<code>OUT</code>に対するDMAリクエストを追加すると、方向パラメータが自動的に設定されます。</p><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/jpeg-hw-dma-configuration.webp" target="_blank"><img width="450" src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/jpeg-hw-dma-configuration.webp"></a><p>JPEG DMAの設定</p></div><p>これでJPEG対応STM32F7（STM32F769など）に対するハードウェア･デコーディング用のTouchGFX HALの設定は終了です。 STM32CubeMXからコードを生成した後、Designerのビデオ･ウィジェットを使用すると、アプリケーションでJPEGペリフェラルを使用してビデオをデコードできるようになります。</p><div class="highlight highlight-caution"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></div>Caution</h5></div><div class="highlight-content">JPEGペリフェラルのRGB_FORMATの設定は、TouchGFXフレームバッファのフォーマットに従う必要があります。</div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stm32h750-dk">STM32H750-DK<a class="hash-link" href="#stm32h750-dk" title="見出しに直接リンク">​</a></h3><p>たとえば、STM32H750とSTM32F769のハードウェア･デコーディング（JPEG対応）の違いは、STM32CubeMXでのDMA転送の設定方法だけです。 UIだけでなく、DMAコンセプトも異なります。</p><p>STM32H750の場合、JPEGペリフェラルは、通常のDMAペリフェラルではなくMDMAペリフェラルを使用するようにのみ設定できます。 下の画像に示すように、入出力両方のFIFOしきい値信号のMDMA設定を追加します。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">MDMAは、DMA1/DMA2と比べてはるかに高性能のDMAエンジンです。</div></div><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/mdma-input-fifo-threshold.webp" target="_blank"><img src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/mdma-input-fifo-threshold.webp"></a><p>JPEG DMAの設定</p></div><div class="figure noshadow"><a href="/4.21/ja/img/development/touchgfx-hal-development/scenarios/mdma-output-fifo-threshold.webp" target="_blank"><img src="/4.21/ja/img/development/touchgfx-hal-development/scenarios/mdma-output-fifo-threshold.webp"></a><p>JPEG DMAの設定</p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filereader-interface"><code>FileReader</code>インタフェース<a class="hash-link" href="#filereader-interface" title="見出しに直接リンク">​</a></h2><p>MJPEGビデオを非メモリ･マップド･メモリに格納すると、開発者は、デコーディング用にデータを設定済みのデコーダ（ソフトウェア / ハードウェア）に渡すためにTouchGFXビデオ･コントローラで使用できる<code>touchgfx::VideoDataReader</code>の実装を指定できます。 以下に、ビデオ･データを1つのバッファから別のバッファにコピーするインタフェースなどの簡単な例を示します。</p><div class="code-header"><div><h5>VideoView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyReader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> touchgfx</span><span class="token base-clause double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">VideoDataReader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">MyReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getDataLength</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> video_len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">seek</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> position </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">readData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> dst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">memcpy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dst</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">video_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        position </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> myReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Video</code>ウィジェットでマップド･メモリ内のビデオの開始位置をポイントするかわりに、開発者はデータ･リーダを使用するようにウィジェットを設定できます。</p><div class="code-header"><div><h5>VideoView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">video</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setVideoData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">myReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-tbs-to-support-video-decoding">TBSを移行してビデオ･デコーディングに対応<a class="hash-link" href="#migrating-tbs-to-support-video-decoding" title="見出しに直接リンク">​</a></h2><p>If you want to migrate a project created from a TouchGFX Board Setups (TBS) - with a MCU that supports video decoding - from a version of TouchGFX Designer before video decoding was supported and you want to be able to use &#x27;Run Target&#x27; in TouchGFX Designer with that project, some manual changes to the GCC Makefile are required.</p><p>必要な変更の概要およびその変更が必要な理由については、後続のセクションで説明します。 There are some general changes that must always be applied and some LibJPEG (software decoding) and JPEG (hardware decoding) specific changes depending on what the developers application uses. 変更により、以前のTBSから作成された既存のGCC Makefileが拡張されます。</p><p>Makefileの更新以外にも、上記のシナリオで説明したように、STM32CubeMXでビデオ･デコーディングを設定する必要があります。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-changes">General changes<a class="hash-link" href="#general-changes" title="見出しに直接リンク">​</a></h3><p>LIBJPEGパスをプロジェクトに定義します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># LibJPEG path</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">libjpeg_path := $(cubemx_middlewares_path)/Third_Party/LibJPEG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に、ビデオ･アセット入力パスを定義します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">asset_texts_input  := TouchGFX/assets/texts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">asset_videos_input := TouchGFX/assets/videos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The video assets output path must also be defined bellow the already existing assets output paths:</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">asset_images_output := $(asset_root_path)/images</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">asset_fonts_output := $(asset_root_path)/fonts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">asset_texts_output := $(asset_root_path)/texts</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">asset_videos_output := $(asset_root_path)/videos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオ出力アセットをコンポーネント･リストに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">all_components := $(components) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(asset_fonts_output) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(asset_images_output) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(asset_texts_output)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(asset_texts_output) \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(asset_videos_output)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオ･オブジェクト･ファイルを定義します。 The video object files are separated from the already existing object:</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">c_source_files := $(call find, $(source_paths),*.c) $(os_source_files) $(board_c_files)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">source_files += $(board_cpp_files)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">video_object_files := $(call find, $(asset_videos_output),*.o)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオ･コンバータ･スクリプトへのパスを定義します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">textconvert_script_path := $(touchgfx_path)/framework/tools/textconvert</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">textconvert_executable := $(call find, $(textconvert_script_path), *.rb)</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">videoconvert_script_path := $(touchgfx_path)/framework/tools/videoconvert</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An optional <code>echo</code> can be added to see all video objects files. ビデオ･オブジェクト･ファイルをリンク設定ステージに追加します。 この行には他のオブジェクト･ファイルとともに追加される$(video_object_files)を指定します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$(binary_output_path)/$(target_executable): $(object_files) $(object_asm_files)</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    @echo Video Objects: $(video_object_files)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @echo Linking $(@)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @mkdir -p $(@D)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @mkdir -p $(object_output_path)</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    @$(file &gt;$(build_root_path)/objects.tmp) $(foreach F,$(object_files) $(video_object_files),$(file &gt;&gt;$(build_root_path)/objects.tmp,$F))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオ･ルールを既存のassetsと.PHONYに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">_assets_: BitmapDatabase TextKeysAndLanguages Videos</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">.PHONY: BitmapDatabase TextKeysAndLanguages Videos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオ･ルールをビデオ変換とともに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Videos:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @ruby $(videoconvert_script_path)/videoconvert.rb $(asset_videos_input) $(asset_videos_output)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最後に、クリーンなルールを更新して、ビデオ関連の出力も除去します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">_clean_:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @echo Cleaning: $(board_name)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @rm -rf $(build_root_path)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Do not remove gui_generated</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @rm -rf $(asset_images_output)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @rm -rf $(asset_fonts_output)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @rm -rf $(asset_texts_output)</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    @rm -rf $(asset_videos_output)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Create directory to avoid error if it does not exist</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @mkdir -p $(asset_root_path)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Remove assets folder if it is empty (i.e. no gui_generated folder)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @rmdir --ignore-fail-on-non-empty $(asset_root_path)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Clean bootloader project</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @$(MAKE) -r -f ExtMem_Boot/gcc/Makefile -s $(MFLAGS) clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-changes">ソフトウェアの変更<a class="hash-link" href="#software-changes" title="見出しに直接リンク">​</a></h3><p>すべてのLIBJPEGパスをインクルード･パスに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">include_paths := $(library_includes) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(all_components), $(comp)/include) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(cubemx_components), $(comp)/Inc) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(touchgfx_generator_components), $(comp)/generated) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(framework_includes) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(cubemx_middlewares_path) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(touchgfx_middlewares_path) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(touchgfx_generator_components) \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    LIBJPEG/Target \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_path)/include \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    LIBJPEG/App</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>LIBJPEGソース･パスを定義します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">c_source_files := $(call find, $(source_paths),*.c) $(os_source_files) $(board_c_files)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">source_files += $(board_cpp_files)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">libjpeg_source_path = Middlewares/Third_Party/LibJPEG/source</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に、すべてのLIBJPEGソース･ファイルをboard_c_filesに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oard_c_files := \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_bus.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_qspi.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_sdram.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_ts.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/ft5336/ft5336.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/ft5336/ft5336_reg.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/mt25tl01g/mt25tl01g.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/mt48lc4m32b2/mt48lc4m32b2.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jaricom.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jcomapi.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdapimin.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdapistd.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdarith.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdatasrc.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdcoefct.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdcolor.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jddctmgr.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdhuff.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdinput.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdmainct.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdmarker.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdmaster.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdmerge.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdpostct.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdsample.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jdtrans.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jerror.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jidctflt.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jidctfst.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jidctint.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jmemmgr.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jmemnobs.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jquant1.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jquant2.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    $(libjpeg_source_path)/jutils.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    LIBJPEG/App/libjpeg.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>さらに、その他のミドルウェア･ソース･ファイルと同じ方法で、LIBJPEGソース･ファイルを既存のオブジェクト･ファイルに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Start converting paths</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:$(touchgfx_path)/%.cpp=$(object_output_path)/touchgfx/%.o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:%.cpp=$(object_output_path)/%.o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:$(touchgfx_middlewares_path)/%.c=$(object_output_path)/$(touchgfx_middlewares_path)/%.o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:$(cubemx_middlewares_path)/%.c=$(object_output_path)/$(cubemx_middlewares_path)/%.o)</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:$(libjpeg_source_path)/%.c=$(object_output_path)/$(libjpeg_source_path)/%.o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:$(Drivers_path)/%.c=$(object_output_path)/Drivers/%.o)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">object_files := $(object_files:%.c=$(object_output_path)/%.o)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-changes">ハードウェアの変更<a class="hash-link" href="#hardware-changes" title="見出しに直接リンク">​</a></h3><p>すべてのJPEGパスをインクルード･パスに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">include_paths := $(library_includes) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(all_components), $(comp)/include) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(cubemx_components), $(comp)/Inc) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(foreach comp, $(touchgfx_generator_components), $(comp)/generated) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(framework_includes) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(cubemx_middlewares_path) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(touchgfx_middlewares_path) \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(touchgfx_generator_components) \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    Utilities/JPEG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次に、すべてのJPEGソース･ファイルをboard_c_filesに追加します。</p><div class="language-make codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-make codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">board_c_files := \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_bus.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_qspi.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_sdram.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/STM32H750B-DK/stm32h750b_discovery_ts.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/ft5336/ft5336.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/ft5336/ft5336_reg.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/mt25tl01g/mt25tl01g.c \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $(Drivers_path)/BSP/Components/mt48lc4m32b2/mt48lc4m32b2.c \</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    Utilities/JPEG/jpeg_utils.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="placing-video-buffer-in-external-memory">外部メモリへのビデオ･バッファの配置<a class="hash-link" href="#placing-video-buffer-in-external-memory" title="見出しに直接リンク">​</a></h2><p>When developers create new projects with STM32CubeMX, the linker scripts associated with the generated projects do not contain any of the possible regions used by TouchGFX. そのため、開発者が別の場所にバッファを配置するようにリンカ･スクリプトを変更するまで、MJPEGビデオのデコードに使用される特定のバッファはリンカによって内部Flashに配置されます。 こうした変更を行わないと、開発者は内部メモリの使用量増大や、ことによると、フル･スクリーン･ビデオ･デコーディングなど、大きなビデオ･バッファへの対応が不可能になります。</p><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content">次の設定済みのTBSは、外部メモリからのビデオ･デコーディングに対応しています。<ol><li>STM32F746-DISCO</li><li>STM32F769-DISCO</li><li>STM32H750-DK</li></ol></div></div><p>JPEGデコーディング専用のRGBバッファの定義は、ビデオ･デコーディングが有効な場合に、TouchGFX Generatorによって生成されます。 この定義には、バッファを配置するセクションをリンカに通知するロケーション･プラグマが付随しています。 リンカがこのメモリ領域をリンカ･スクリプトで検出できない場合は、バッファは内部メモリに配置されます。</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_PRAGMA_NOLOAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Video_RGB_Buffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> videoRGBBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">57600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_ATTRIBUTE_NOLOAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Video_RGB_Buffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>次のコンパイラ固有のサブセクションでは、SDRAMへのバッファの配置を実現するために開発者が実行できる変更について説明します。 <code>Video_RGB_Buffer</code>は、ビデオ･デコーディングに使用されるバッファを表しています。 サンプルのリンカ･スクリプトでは、TouchGFXフレームバッファ用にSDRAMのいくらかのスペース（<code>0xC0000000</code>から開始）を確保しています。</p><ol><li>EWARM</li><li>STM32CubeIDE</li><li>MDK-ARM</li></ol><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">Please read the section in the <a href="/4.21/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding">Generator User Guide</a>  on configuring a project for Video Decoding.</div></div><p>以下のすべての例では、STM32F746G-DISCOボードのSDRAMの開始アドレス（<code>0xC0000000</code>-&gt;<code>0xC00FF000</code>）からスペースを確保し、リンカがフレームバッファのデータを上書きするリスクなしに、アプリケーションがアドレス（<code>0xC0000000</code>など）を使用してフレームバッファを参照できます。 各例で、リンカは定義されているSDRAM領域に<code>Video_RGB_Buffer</code>を配置できます。</p><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content">直接アドレス指定するのではなく、TouchGFXフレームバッファを割り当てている場合は、リンカ･スクリプトで<b>TouchGFX_Framebuffer</b>もSDRAMに配置します。</div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ewarm-iar">EWARM（IAR）<a class="hash-link" href="#ewarm-iar" title="見出しに直接リンク">​</a></h3><div class="code-header"><div><h5>stm32f746xx_flash.icf</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">define symbol __ICFEDIT_region_SDRAM_start__   = 0xC00FF000;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">define symbol __ICFEDIT_region_SDRAM_end__     = 0xC0700FFF;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">define region SDRAM_region    = mem:[from __ICFEDIT_region_SDRAM_start__ to __ICFEDIT_region_SDRAM_end__];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">place in SDRAM_region    { first section Video_RGB_Buffer };</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>リンク設定すると、 <code>EWARM\STM32F746G_DISCO\List\STM32F746G_DISCO.map</code>には、<code>Video_RGB_Buffer</code>に関する次の配置情報が含まれます。</p><div class="code-header"><div><h5>STM32F746G_DISCO.map</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Video_RGB_Buffer        zero     0xc00f&#x27;f000   0x3&#x27;8400  TouchGFXGeneratedHAL.o [2]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                               - 0xc013&#x27;7400   0x3&#x27;8400</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stm32cubeide">STM32CubeIDE<a class="hash-link" href="#stm32cubeide" title="見出しに直接リンク">​</a></h3><div class="code-header"><div><h5>STM32F746NGHX_FLASH.ld</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MEMORY</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SDRAM      (xrw)    : ORIGIN = 0xC00FF000,   LENGTH = 8M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">BufferSection (NOLOAD) :</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  *(Video_RGB_Buffer Video_RGB_Buffer.*)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  *(.gnu.linkonce.r.*)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  . = ALIGN(0x4);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">} &gt;SDRAM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>コンパイルすると、<code>STM32CubeIDE\Debug\STM32F746G_DISCO.map</code>には、<code>Video_RGB_Buffer</code>に関する次の配置情報が含まれます。</p><div class="code-header"><div><h5>STM32F746G_DISCO.map</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">BufferSection   0x00000000c00ff000    0x1c200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> *(Video_RGB_Buffer Video_RGB_Buffer.*)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Video_RGB_Buffer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                0x00000000c00ff000    0x1c200 Application/User/TouchGFX/target/generated/TouchGFXGeneratedHAL.o</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                0x00000000c00ff000                videoRGBBuffer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mdk-arm-keil">MDK-ARM（Keil）<a class="hash-link" href="#mdk-arm-keil" title="見出しに直接リンク">​</a></h3><div class="code-header"><div><h5>STM32F746G_DISCO.sct</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">LR_IROM1 0x08000000 0x00200000  {    ; load region size_region</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ER_IROM1 0x08000000 0x00200000  {  ; load address = execution address</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    *.o (RESET, +First)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    *(InRoot$$Sections)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .ANY (+RO)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  RW_IRAM1 0x20000000 0x00050000  {  ; RW data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .ANY (+RW +ZI)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  RW_SDRAM 0xC00FF000 UNINIT 0xC0700FFF  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    *.o (Video_RGB_Buffer)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ビデオバッファを保持するセクションに<code>UNINIT</code>属性を必ず含めてください。 これにより、初期化されていないデータとしてメモリ領域が確実に残されます。 リンク設定すると、 <code>MDK-ARM\STM32F746G_DISCO\STM32F746G_DISCO.map</code>には、<code>Video_RGB_Buffer</code>に関する次の配置情報が含まれます。</p><div class="code-header"><div><h5>STM32F746G_DISCO.map</h5></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Video_RGB_Buffer                         0xc00ff000   Section    115200  touchgfxgeneratedhal.o(Video_RGB_Buffer)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメント･ページのナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">Real Time Operating System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.21/ja/docs/development/touchgfx-hal-development/scenarios/scenarios-dsi-video-mode"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">MIPI-DSIビデオ･モード</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#video-rtos-support" class="table-of-contents__link toc-highlight">RTOSのサポート</a></li><li><a href="#software-decoding" class="table-of-contents__link toc-highlight">ソフトウェア･デコーディング</a><ul><li><a href="#video-data" class="table-of-contents__link toc-highlight">ビデオ･データ</a></li></ul></li><li><a href="#hardware-decoding" class="table-of-contents__link toc-highlight">ハードウェア･デコーディング</a><ul><li><a href="#stm32f769-disco" class="table-of-contents__link toc-highlight">STM32F769-DISCO</a></li><li><a href="#stm32h750-dk" class="table-of-contents__link toc-highlight">STM32H750-DK</a></li></ul></li><li><a href="#filereader-interface" class="table-of-contents__link toc-highlight"><code>FileReader</code>インタフェース</a></li><li><a href="#migrating-tbs-to-support-video-decoding" class="table-of-contents__link toc-highlight">TBSを移行してビデオ･デコーディングに対応</a><ul><li><a href="#general-changes" class="table-of-contents__link toc-highlight">General changes</a></li><li><a href="#software-changes" class="table-of-contents__link toc-highlight">ソフトウェアの変更</a></li><li><a href="#hardware-changes" class="table-of-contents__link toc-highlight">ハードウェアの変更</a></li></ul></li><li><a href="#placing-video-buffer-in-external-memory" class="table-of-contents__link toc-highlight">外部メモリへのビデオ･バッファの配置</a><ul><li><a href="#ewarm-iar" class="table-of-contents__link toc-highlight">EWARM（IAR）</a></li><li><a href="#stm32cubeide" class="table-of-contents__link toc-highlight">STM32CubeIDE</a></li><li><a href="#mdk-arm-keil" class="table-of-contents__link toc-highlight">MDK-ARM（Keil）</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2022 STMicroelectronics | <a href="https://www.st.com/content/st_com/ja/common/terms-of-use.html">ご利用条件</a> | <a href="https://www.st.com/content/st_com/ja/common/privacy-policy.html">プライバシー･ポリシー</a> | <a href="/docs/miscellaneous/cookie-policy">Cookieポリシー</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">権利行使</a></div></div></div></footer></div></div>
<script src="/4.21/ja/assets/js/runtime~main.1adc3282.js"></script>
<script src="/4.21/ja/assets/js/main.81301f79.js"></script>
</body>
</html>