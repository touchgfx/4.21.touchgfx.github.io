"use strict";(self.webpackChunktouchgfx_documentation=self.webpackChunktouchgfx_documentation||[]).push([[504],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),u=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),h=u(n),d=a,m=h["".concat(p,".").concat(d)]||h[d]||s[d]||l;return n?r.createElement(m,o(o({ref:t},c),{},{components:n})):r.createElement(m,o({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=h;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},22425:function(e,t,n){var r=n(67294);class a extends r.Component{render(){return r.createElement("div",{className:"code-header"},r.createElement("div",null,r.createElement("h5",null,this.props.children)))}}t.Z=a},44035:function(e,t,n){var r=n(67294),a=n(25026);t.Z=function(e){const t=e.noShadow||!1,n=e.width,l=e.height,o=(0,a.Z)(e.imageSource);return t?r.createElement("div",{className:"figure noshadow"},r.createElement("a",{href:o,target:"_blank"},r.createElement("img",{width:n,height:l,src:o})),r.createElement("p",null,e.children)):r.createElement("div",{className:"figure"},r.createElement("a",{href:o,target:"_blank"},r.createElement("img",{width:n,height:l,src:o})),r.createElement("p",null,e.children))}},29415:function(e,t,n){var r=n(67294),a=n(88678);const l=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}));class o extends r.Component{render(){return r.createElement(a.Z,{color:"var(--highlight-color-further-reading)",header:"Further reading",type:"further-reading",icon:l},this.props.children)}}t.Z=o},88678:function(e,t,n){var r=n(67294);class a extends r.Component{render(){const e=`highlight highlight-${this.props.type}`;return r.createElement("div",{className:e},r.createElement("div",{className:"highlight-heading"},r.createElement("h5",null,r.createElement("div",{className:"highlight-icon"},this.props.icon),this.props.header)),r.createElement("div",{className:"highlight-content"},this.props.children))}}t.Z=a},37793:function(e,t,n){var r=n(67294),a=n(88678);const l=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},r.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}));class o extends r.Component{render(){return r.createElement(a.Z,{color:"var(--highlight-color-tip)",header:"Tip",type:"tip",icon:l},this.props.children)}}t.Z=o},40981:function(e,t,n){n.r(t),n.d(t,{assets:function(){return b},contentTitle:function(){return y},default:function(){return C},frontMatter:function(){return k},metadata:function(){return T},toc:function(){return N}});var r=n(3905),a=n(44035),l=n(37793),o=n(22425),i=n(29415),p=n(39130),u=Object.defineProperty,c=Object.defineProperties,s=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))m.call(t,n)&&g(e,n,t[n]);return e};const k={id:"touchgfx-architecture",title:"Abstraction Layer Architecture",sidebar_label:"Abstraction Layer Architecture"},y=void 0,T={unversionedId:"development/touchgfx-hal-development/touchgfx-architecture",id:"development/touchgfx-hal-development/touchgfx-architecture",title:"Abstraction Layer Architecture",description:"",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/development/touchgfx-hal-development/touchgfx-architecture.mdx",sourceDirName:"development/touchgfx-hal-development",slug:"/development/touchgfx-hal-development/touchgfx-architecture",permalink:"/4.21/ko/docs/development/touchgfx-hal-development/touchgfx-architecture",draft:!1,tags:[],version:"current",frontMatter:{id:"touchgfx-architecture",title:"Abstraction Layer Architecture",sidebar_label:"Abstraction Layer Architecture"},sidebar:"docs",previous:{title:"TouchGFX AL Development Introduction",permalink:"/4.21/ko/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction"},next:{title:"Generator User Guide",permalink:"/4.21/ko/docs/category/generator-user-guide"}},b={},N=[{value:"AL(Abstraction Layer) \ud074\ub798\uc2a4",id:"abstraction-layer-classes",level:3},{value:"TouchGFX Engine \uba54\uc778 \ub8e8\ud504\ub97c \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uacfc \ub3d9\uae30\ud654",id:"synchronize-touchgfx-engine-main-loop-with-display-transfer",level:2},{value:"Rendering Done",id:"rendering-done",level:3},{value:"Display ready",id:"display-ready",level:3},{value:"\ud130\uce58 \ubc0f \ubb3c\ub9ac\uc801 \ubc84\ud2bc \uc774\ubca4\ud2b8 \ubcf4\uace0",id:"report-touch-and-physical-button-events",level:2},{value:"\ud130\uce58 \uc88c\ud45c",id:"touch-coordinates",level:3},{value:"\uae30\ud0c0 \uc678\ubd80 \uc774\ubca4\ud2b8",id:"other-external-events",level:3},{value:"\ud504\ub808\uc784 \ubc84\ud37c \uc561\uc138\uc2a4 \ub3d9\uae30\ud654",id:"synchronize-framebuffer-access",level:2},{value:"\ucc28\uae30 \uac00\uc6a9 \ud504\ub808\uc784 \ubc84\ud37c \uc601\uc5ed \ubcf4\uace0",id:"report-the-next-available-framebuffer-area",level:2},{value:"\ub80c\ub354\ub9c1 \uc791\uc5c5 \uc218\ud589",id:"perform-render-operations",level:2},{value:"\ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\uc1a1 \ucc98\ub9ac",id:"handle-framebuffer-transfer-to-display",level:2},{value:"\uc804\uccb4 \uc601\uc5ed \ub80c\ub354\ub9c1",id:"rendering-of-area-complete",level:3}],v={toc:N};function C(e){var t,n=e,{components:u}=n,g=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=f(f({},v),g),c(t,s({components:u,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,"\uc774\uc804 \uc139\uc158\uc5d0\uc11c \uc124\uba85\ud588\ub4ef\uc774 TouchGFX AL\uc740 \ud2b9\uc815\ud55c \ucc45\uc784\uc744 \ub9e1\uace0 \uc788\uc2b5\ub2c8\ub2e4. Responsibilities are either implemented in the hardware part of the AL (HAL) or the part of the AL that synchronizes with TouchGFX Engine, typically through an RTOS (OSAL). The following table summarizes these responsibilities which were outlined in the previous section:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",f({parentName:"tr"},{align:null}),"\ucc45\uc784"),(0,r.kt)("th",f({parentName:"tr"},{align:null}),"\uc6b4\uc601 \uccb4\uc81c \ub610\ub294 \ud558\ub4dc\uc6e8\uc5b4"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#synchronize-touchgfx-engine-main-loop-with-display-transfer"}),"TouchGFX Engine \uba54\uc778 \ub8e8\ud504\ub97c \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uacfc \ub3d9\uae30\ud654")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\uc6b4\uc601 \uccb4\uc81c \ubc0f \ud558\ub4dc\uc6e8\uc5b4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#report-touch-and-physical-button-events"}),"\ud130\uce58 \ubc0f \ubb3c\ub9ac\uc801 \ubc84\ud2bc \uc774\ubca4\ud2b8 \ubcf4\uace0")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud558\ub4dc\uc6e8\uc5b4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#synchronize-framebuffer-access"}),"\ud504\ub808\uc784 \ubc84\ud37c \uc561\uc138\uc2a4 \ub3d9\uae30\ud654")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\uc6b4\uc601 \uccb4\uc81c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#report-the-next-available-framebuffer-area"}),"\ucc28\uae30 \uac00\uc6a9 \ud504\ub808\uc784 \ubc84\ud37c \uc601\uc5ed \ubcf4\uace0")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud558\ub4dc\uc6e8\uc5b4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#perform-render-operations"}),"\ub80c\ub354\ub9c1 \uc791\uc5c5 \uc218\ud589")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud558\ub4dc\uc6e8\uc5b4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("a",f({parentName:"td"},{href:"#handle-framebuffer-transfer-to-display"}),"\ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\uc1a1 \ucc98\ub9ac ")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud558\ub4dc\uc6e8\uc5b4")))),(0,r.kt)("p",null,"\uc544\ub798\uc758 \uac01 \ud558\uc704 \uc139\uc158\uc5d0\ub294 \uc704\uc758 \ucc45\uc784\ub4e4\uc744 \uc774\ud589\ud558\uae30 \uc704\ud574 \uc218\ud589\ud574\uc57c \ud558\ub294 \uc791\uc5c5\uc774 \uba85\uc2dc\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. For custom hardware platforms the TouchGFX Generator, inside STM32CubeMX, can generate most of the AL and accompanying TouchGFX project. The remaining parts, that the AL developer must implement manually, are pointed out through code comments and notifications through the TouchGFX Generator. ",(0,r.kt)("a",f({parentName:"p"},{href:"generator-how-to/enabling-touchgfx-generator"}),"Read more")," about the TouchGFX Generator in the next section."),(0,r.kt)("h3",f({},{id:"abstraction-layer-classes"}),"AL(Abstraction Layer) \ud074\ub798\uc2a4"),(0,r.kt)("p",null,"The TouchGFX AL is accessed by the TouchGFX Engine through concrete sub-classes and through class implementation files (.cpp) where member functions of classes defined in the TouchGFX Engine are implemented. These sub-classes and class implementation files are generated by the TouchGFX Generator.  The TouchGFX Generator can generate both the part of the HAL that reflects configurations from STM32CubeMX, as well as the OSAL for the used RTOS. Please read the section on ",(0,r.kt)("a",f({parentName:"p"},{href:"generator-how-to/enabling-touchgfx-generator"}),"TouchGFX Generator")," for further details. \uc77c\ubc18\uc801\uc73c\ub85c HAL\uc758 \uc544\ud0a4\ud14d\ucc98\ub294 \uc544\ub798 \uadf8\ub9bc\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,r.kt)(a.Z,{imageSource:"/img/development/touchgfx-hal-development/code-architecture.webp",noShadow:!0,width:"200",mdxType:"Figure"},"\uc0dd\uc131\ub41c \ucf54\ub4dc\uc758 \uacc4\uce35 \uad6c\uc870"),(0,r.kt)("h2",f({},{id:"synchronize-touchgfx-engine-main-loop-with-display-transfer"}),"TouchGFX Engine \uba54\uc778 \ub8e8\ud504\ub97c \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uacfc \ub3d9\uae30\ud654"),(0,r.kt)("p",null,"The main idea behind this step is to block the TouchGFX Engine main loop when rendering is done, ensuring that no further frames are produced. \ub514\uc2a4\ud50c\ub808\uc774\uac00 \uc900\ube44\ub418\uba74 OSAL\uc740 \ucc28\ub2e8\ub41c TouchGFX Engine \uba54\uc778 \ub8e8\ud504\ub97c \uc2dc\uadf8\ub110\ub9c1 \ud558\uc5ec \ud504\ub808\uc784\uc744 \uacc4\uc18d \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"In order to fulfill this responsibility the typical way of a TouchGFX AL is to utilize the engine hook ",(0,r.kt)("em",{parentName:"p"},"Rendering done")," and the interrupt ",(0,r.kt)("em",{parentName:"p"},"Display Ready"),", as outlined in ",(0,r.kt)("a",f({parentName:"p"},{href:"touchgfx-al-development-introduction#responsibilities-of-the-abstraction-layer"}),"Responsibilities of the Abstraction Layer"),". The OSAL defines a function ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::signalVSync")," in which developers can signal the semaphore that the engine waits upon when called."),(0,r.kt)(l.Z,{mdxType:"Tip"},"The TouchGFX Generator can create a complete OSAL for CMSIS V1, CMSIS V2, ThreadX and when not using an RTOS."),(0,r.kt)("h3",f({},{id:"rendering-done"}),"Rendering Done"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Rendering done\xa0"),"\ud6c4\ud06c\uc778 ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::waitForVSync"),"\ub294 \ub80c\ub354\ub9c1\uc774 \uc644\ub8cc\ub41c \ud6c4\uc5d0 TouchGFX Engine\uc5d0\uc11c \ud638\ucd9c\ub429\ub2c8\ub2e4."),(0,r.kt)("p",null,"When implementing this OSAL method, the Abstraction Layer must block the graphics engine until it is time to render the next frame. \uc774 \ube14\ub85d\uc744 \uad6c\ud604\ud558\ub294 \ud45c\uc900 \uba54\uc11c\ub4dc\ub294 \uba54\uc2dc\uc9c0 \ub300\uae30\uc5f4\uc5d0\uc11c \uc77d\uae30 \ucc28\ub2e8\uc744 \uc218\ud589\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. The HAL developer is free to use any method to implement the block if this is not feasible."),(0,r.kt)(l.Z,{mdxType:"Tip"},"\ub610\ud55c TouchGFX Generator\ub294 \uc774\ub7ec\ud55c \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uacbd\uc6b0\uc5d0 RTOS\uc758 \uae30\ubcf8 \uc694\uc18c\ub4e4\uc774 \uc544\ub2cc \uc2a4\ud540\ub77d(spinlock) \uc744 \uc0ac\uc6a9\ud574 \ub300\uae30\ud558\ub3c4\ub85d \ube48 OSAL\uc744 \uc0dd\uc131\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::signalVSync")," is signaled (or the semaphore/queue used in ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::waitForVSync")," is signaled) TouchGFX will start rendering the next application frame. The following code based on CMSIS V2 causes the TouchGFX engine to block until an element is added to the queue by another part of the system, typically an interrupt synchronized with the display."),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"OSWrappers.cpp (CMSIS V2)"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"static osMessageQueueId_t vsync_queue = NULL; //Queue identifier is assigned elsewhere\n\nvoid OSWrappers::waitForVSync()\n{\n    uint32_t dummyGet;\n    // First make sure the queue is empty, by trying to remove an element with 0 timeout.\n    osMessageQueueGet(vsync_queue, &dummyGet, 0, 0);\n\n    // Then, wait for next VSYNC to occur.\n    osMessageQueueGet(vsync_queue, &dummyGet, 0, osWaitForever);\n}\n")),(0,r.kt)("p",null,"RTOS\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uc5d0\ub294 TouchGFX Generator\uac00 \ud718\ubc1c\uc131 \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud574",(0,r.kt)("inlineCode",{parentName:"p"}," waitForVSync"),"\uc5d0 \ub300\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 \ud568\uc218\ub97c \uad6c\ud604\ud569\ub2c8\ub2e4."),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"OSWrappers.cpp (No OS)"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"static volatile uint32_t vsync_sem = 0;\n\nvoid OSWrappers::waitForVSync()\n{\n    if(vsync_sem)\n    {\n        vsync_sem = 0;\n        // Signal TouchGFX to start rendering next frame\n        ...\n    }\n}\n")),(0,r.kt)(l.Z,{mdxType:"Tip"},(0,r.kt)("li",null,(0,r.kt)("b",null,(0,r.kt)("i",null,"While\xa0")),"TouchGFX Engine\uc740 \ub2e4\ub978 \uc791\uc5c5\ub4e4\uc744 \ud1b5\ud574 \uc911\uc694\ud55c \uc791\uc5c5\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub294 \ub2e4\uc74c \ud504\ub808\uc784\uc744 \uc0dd\uc131\ud560 \ub54c\uae4c\uc9c0 \ub300\uae30\ud569\ub2c8\ub2e4.")),(0,r.kt)("h3",f({},{id:"display-ready"}),"Display ready"),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"Display ready")," signal to unblock the main loop should come from an interrupt from a display controller, from the display itself or even from a hardware timer. The source of the signal is dependent on the type of display."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers"),"\xa0\ud074\ub798\uc2a4\ub294 \uc774 \uc2e0\ud638\uc5d0 \ub300\ud574 \ud568\uc218",(0,r.kt)("inlineCode",{parentName:"p"},"\xa0OSWrappers::signalVsync"),"\ub97c \uc815\uc758\ud569\ub2c8\ub2e4. The implementation of the function must unblock the main loop by satisfying the wait condition used in ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::waitForVSync"),"."),(0,r.kt)("p",null,"Continuing from the above CMSIS V2 example, the following code puts a message into the message queue ",(0,r.kt)("inlineCode",{parentName:"p"},"vsync_queue")," which unblocks the TouchGFX Engine."),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"OSWrappers.cpp (CMSIS V2)"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"void OSWrappers::signalVSync()\n{\n    osMessageQueuePut(vsync_queue, &dummy, 0, 0);\n}\n")),(0,r.kt)("p",null,"This ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers::signalVSync")," method must be called at hardware level from an interrupt for e.g. an LTDC, an external signal from the display, or a hardware timer."),(0,r.kt)("p",null,"RTOS\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uc5d0\ub294 \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud558\uace0 0\uc774 \uc544\ub2cc \uac12\uc744 \ud560\ub2f9\ud574\uc11c while \ub8e8\ud504\ub97c \uc885\ub8cc\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"OSWrappers.cpp (No OS)"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"void OSWrappers::signalVSync()\n{\n    vsync_sem = 1;\n}\n")),(0,r.kt)("h2",f({},{id:"report-touch-and-physical-button-events"}),"\ud130\uce58 \ubc0f \ubb3c\ub9ac\uc801 \ubc84\ud2bc \uc774\ubca4\ud2b8 \ubcf4\uace0"),(0,r.kt)("p",null,"Before rendering a new frame, the TouchGFX Engine collects external input from the ",(0,r.kt)("inlineCode",{parentName:"p"},"TouchController")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ButtonController")," interfaces."),(0,r.kt)("h3",f({},{id:"touch-coordinates"}),"\ud130\uce58 \uc88c\ud45c"),(0,r.kt)("p",null,"Coordinates from the touch controller are translated into click-, drag- and gesture events by the TouchGFX Engine and passed to the application."),(0,r.kt)("p",null,"The way touch coordinated from the touch controller is accessed by the TouchGFX Engine is by passing an implementation"),(0,r.kt)("p",null,"The following code is generated by the TouchGFX Generator:"),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"TouchGFXConfiguration.cpp"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp",metastring:"{1,3}","{1,3}":!0}),"static STM32TouchController tc;\n...\nstatic TouchGFXHAL hal(dma, display, tc, 390, 390);\n")),(0,r.kt)("p",null,"TouchGFX Engine\ub294 \ub80c\ub354\ub9c1 \uc8fc\uae30 \ub3d9\uc548 \uc785\ub825\uc744 \uc218\uc9d1\ud560 \ub54c\xa0",(0,r.kt)("em",{parentName:"p"},"tc\xa0"),"\uac1d\uccb4\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"sampleTouch()\xa0"),"\ud568\uc218\ub97c \ud638\ucd9c\ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"bool STM32TouchController::sampleTouch(int32_t& x, int32_t& y)\n")),(0,r.kt)("p",null,"AL \uac1c\ubc1c\uc790\uac00 \uc81c\uacf5\ud558\ub294 \ud568\uc218\ub294 \uc77d\uae30 \ud130\uce58 \uc88c\ud45c \uac12\uc744 x\uc640 y\ub85c \ud560\ub2f9\ud558\uace0 \ud130\uce58 \uac10\uc9c0 \uc5ec\ubd80(true \ub610\ub294 false)\ub97c \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)(l.Z,{mdxType:"Tip"},"TouchGFX Generator\ub294 TouchController \uc778\ud130\ud398\uc774\uc2a4 \ud568\uc218\ub97c \ube48 \ud568\uc218\ub85c \uc815\uc758\ud558\ub294 \ud074\ub798\uc2a4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. Hal \uac1c\ubc1c\uc790\ub294 \ud568\uc218\ub97c \ucc44\uc6cc\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ub7ec\ud55c \ud568\uc218\ub97c \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uc5d0\ub294 \uba87 \uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"sampleTouch() \uc5d0\uc11c \ud3f4\ub9c1"),": \uc694\uccad\uc744 \uc804\uc1a1\ud558\uace0 \uacb0\uacfc\uc5d0 \ub300\ud574 \ud3f4\ub9c1\uc744 \uc218\ud589\ud568\uc73c\ub85c\uc368 \ud558\ub4dc\uc6e8\uc5b4 \ud130\uce58 \ucee8\ud2b8\ub864\ub7ec(\ubcf4\ud1b5 I2C)\uc5d0\uc11c \ud130\uce58 \uc0c1\ud0dc\ub97c \uc77d\uc5b4\uc635\ub2c8\ub2e4. \uadf8\ub798\ud53d \uc5d4\uc9c4\uc774 \ucc28\ub2e8\ub418\ub294 \ub3d9\uc548 I2C \uc655\ubcf5\uc5d0 \ucd5c\ub300 1ms\uc758 \uc2dc\uac04\uc774 \uc18c\uc694\ub418\ub294 \uacbd\uc6b0\uac00 \uc885\uc885 \uc788\ub2e4\ub294 \uc810\uc5d0\uc11c \uc774\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc804\uccb4 \ub80c\ub354\ub9c1 \uc2dc\uac04\uc5d0 \uc601\ud5a5\uc744 \uc90d\ub2c8\ub2e4."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"\uc778\ud130\ub7fd\ud2b8 \uae30\ubc18")),": \uc778\ud130\ub7fd\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4. I2C \uc77d\uae30 \uba85\ub839\uc740 \ud0c0\uc774\uba38\uc5d0 \uc758\ud574, \ub610\ub294 \ud130\uce58 \ud558\ub4dc\uc6e8\uc5b4\uc5d0\uc11c \ub098\uc628 \uc678\ubd80 \uc778\ud130\ub7fd\ud2b8\uc5d0 \ub300\ud55c \uc751\ub2f5\uc73c\ub85c\uc11c \uc8fc\uae30\uc801\uc73c\ub85c \uc2dc\uc791\ub429\ub2c8\ub2e4. I2C \ub370\uc774\ud130\uac00 \uac00\uc6a9 \uc0c1\ud0dc\uac00 \ub418\uba74(\ub610 \ub2e4\ub978 \uc778\ud130\ub7fd\ud2b8) \uc774\ub97c \uba54\uc2dc\uc9c0 \ub300\uae30\uc5f4\uc774\ub098 \uc804\uc5ed \ubcc0\uc218\ub97c \ud1b5\ud574 STM32TouchController\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"li"},"STM32TouchController.cpp"),"(TouchGFX Generator\uc5d0\uc11c \uc0dd\uc131\ub428)\uc5d0\uc11c \ub098\uc628 \uc544\ub798 \ucf54\ub4dc\ub294 ",(0,r.kt)("inlineCode",{parentName:"li"},"sampleTouch"),"\uac00 RTOS\ub97c \uc774\uc6a9\ud574 \uc2dc\uc2a4\ud15c\uc744 \uac80\uc0c9\ud558\ub294 \ubc29\uc2dd\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.")),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"STM32TouchController.cpp"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"bool STM32TouchController::sampleTouch(int32_t& x, int32_t& y)\n{\n    if (osMessageQueueGet(mid_MsgQueue, &msg, NULL, 0U) == osOK)\n    {\n        x = msg.x;\n        y = msg.y;\n        return true;\n    }\n    return false;\n}\n")),(0,r.kt)("p",null,"\uc774 \ud30c\uc77c\uc758 \uc704\uce58\ub294 TouchGFX Generator\uc5d0 \ub300\ud55c \ub2e4\uc74c \uc7a5\uc5d0 \ub098\uc640 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h3",f({},{id:"other-external-events"}),"\uae30\ud0c0 \uc678\ubd80 \uc774\ubca4\ud2b8"),(0,r.kt)("p",null,"\ubc84\ud2bc \ucee8\ud2b8\ub864\ub7ec \uc778\ud130\ud398\uc774\uc2a4\uc778",(0,r.kt)("inlineCode",{parentName:"p"},"\xa0touchgfx::ButtonController"),"\ub294 \ud558\ub4dc\uc6e8\uc5b4 \uc2e0\ud638(\ubc84\ud2bc \ub610\ub294 \uae30\ud0c0)\ub97c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ub300\ud55c \uc774\ubca4\ud2b8\ub85c \ub9e4\ud551\ud558\ub294 \ub370 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc774\ubca4\ud2b8\uc5d0 \ub300\ud55c \ubc18\uc751\uc744 TouchGFX Designer \ub0b4\uc5d0 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc778\ud130\ud398\uc774\uc2a4\uc758 \uc0ac\uc6a9 \ubc29\ubc95\uc740 ButtonController\ub97c \uac16\ub294 \uac83\uc774 \ud544\uc218\uac00 \uc544\ub2c8\ub77c\ub294 \uc810\uc744 \uc81c\uc678\ud558\uace0 \uc704\uc758 \ud130\uce58 \ucee8\ud2b8\ub864\ub7ec\uc640 \uc720\uc0ac\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774 \uc778\ud130\ud398\uc774\uc2a4\uc758 \uc0ac\uc6a9 \ubc29\ubc95\uc740 ButtonController\ub97c \uac16\ub294 \uac83\uc774 \ud544\uc218\uac00 \uc544\ub2c8\ub77c\ub294 \uc810\uc744 \uc81c\uc678\ud558\uace0 \uc704\uc758 \ud130\uce58 \ucee8\ud2b8\ub864\ub7ec\uc640 \uc720\uc0ac\ud569\ub2c8\ub2e4. \uc0ac\uc6a9\uc744 \uc704\ud574 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\uc5ec\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"ButtonController"),"\xa0\uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\ud604\ud558\uace0 HAL\uc5d0 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud55c \ucc38\uc870\ub97c \uc804\ub2ec\ud569\ub2c8\ub2e4."),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"MyButtonController.cpp"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp",metastring:"{3-6}","{3-6}":!0}),"class MyButtonController : public touchgfx::ButtonController\n{\n  bool sample(uint8_t& key)\n  {\n    ... //Sample IO, set key, return true/false\n  }\n};\n")),(0,r.kt)(o.Z,{mdxType:"CodeHeader"},"TouchGFXConfiguration.cpp"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp"}),"static MyButtonController bc;\nvoid touchgfx_init()\n{\n  ...\n  hal.initialize();\n  hal.setButtonController(&bc);\n}\n")),(0,r.kt)("p",null,"ButtonController \ud074\ub798\uc2a4\uc758 ",(0,r.kt)("em",{parentName:"p"},"sample"),"\xa0\uba54\uc11c\ub4dc\ub294 \uac01 \ud504\ub808\uc784\uc5d0 \uc55e\uc11c \ud638\ucd9c\ub429\ub2c8\ub2e4. True\ub97c \ubc18\ud658\ud558\uba74 \uc774 \uac12\uc774 \ud604\uc7ac \ud654\uba74\uc758 ",(0,r.kt)("em",{parentName:"p"},"handleKeyEvent"),"\xa0\uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec\uc5d0 \uc804\ub2ec\ub429\ub2c8\ub2e4."),(0,r.kt)(i.Z,{mdxType:"FurtherReading"},"ButtonController\ub97c \ud1b5\ud574 \uc0d8\ud50c\ub9c1\ub41c \uac12\uc744 TouchGFX Designer\uc758 ",(0,r.kt)(p.Z,{to:"../ui-development/designer-user-guide/interactions-view",mdxType:"Link"},"\uc0c1\ud638 \uc791\uc6a9"),"\uc744 \uc704\ud55c \ud2b8\ub9ac\uac70\ub85c \uc0ac\uc6a9\ud558\ub294 \uc790\uc138\ud55c \ubc29\ubc95\uc740 \uc0c1\ud638 \uc791\uc6a9\xa0\ubb38\uc11c\ub97c \ucc38\uc870\ud558\uc2ed\uc2dc\uc624."),(0,r.kt)("h2",f({},{id:"synchronize-framebuffer-access"}),"\ud504\ub808\uc784 \ubc84\ud37c \uc561\uc138\uc2a4 \ub3d9\uae30\ud654"),(0,r.kt)("p",null,"\ub2e4\uc218\uc758 \ub3d9\uc791\ub4e4\uc774 \ud504\ub808\uc784 \ubc84\ud37c \uba54\ubaa8\ub9ac\ub97c \uc561\uc138\uc2a4\ud558\ub294 \ub370 \uad00\uc2ec\uc744 \uac00\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",f({parentName:"tr"},{align:null})),(0,r.kt)("th",f({parentName:"tr"},{align:null})),(0,r.kt)("th",f({parentName:"tr"},{align:null})))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),"1"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"CPU"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ub80c\ub354\ub9c1 \ub3d9\uc548 \ud53d\uc140 \uc77d\uae30 \ubc0f \uc4f0\uae30")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),"2"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"DMA2D",(0,r.kt)("strong",{parentName:"td"},"*")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud558\ub4dc\uc6e8\uc5b4 \uc9c0\uc6d0 \ub80c\ub354\ub9c1 \ub3d9\uc548 \ud53d\uc140 \uc77d\uae30 \ubc0f \uc4f0\uae30")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),"3"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"LTDC"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ubcd1\ub82c RGB \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc804\uc1a1\ud558\ub294 \ub3d9\uc548 \ud53d\uc140 \uc77d\uae30")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),"4"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"DMA"),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"SPI \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc804\uc1a1\ud558\ub294 \ub3d9\uc548 \ud53d\uc140 \uc77d\uae30")))),(0,r.kt)("p",null,"TouchGFX Engine\uc740 ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers "),"\uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574 \ud504\ub808\uc784 \ubc84\ud37c \uc561\uc138\uc2a4\ub97c \ub3d9\uae30\ud654\ud558\uba70, \ub3d9\uc77c\ud55c \ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \uc561\uc138\uc2a4\ud558\uace0 \uc2f6\uc740 \uc8fc\ubcc0 \uc7a5\uce58(\uc608: DMA2D)\ub294 \uc774\uc640 \ub611\uac19\uc774 \ud574\uc57c \ud569\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc778 \uc124\uacc4\uc5d0\uc11c\ub294 \uc138\ub9c8\ud3ec\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \ub300\ud55c \uc561\uc138\uc2a4\ub97c \ubcf4\ud638\ud558\uc9c0\ub9cc, \ub2e4\ub978 \ub3d9\uae30\ud654 \uba54\ucee4\ub2c8\uc998\uc744 \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc544\ub798 \ud45c\uc5d0\ub294 TouchGFX Generator\ub97c \ud1b5\ud574\uc11c \uc0dd\uc131\ud558\uac70\ub098 \uc0ac\uc6a9\uc790\uac00 \uc9c1\uc811 \uc0dd\uc131\ud560 \uc218 \uc788\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"OSWrappers"),"\xa0\ud074\ub798\uc2a4(OSWrappers.cpp)\uc758 \ud568\uc218 \ubaa9\ub85d\uc774 \ub098\uc640 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",f({parentName:"tr"},{align:null}),"\uba54\uc11c\ub4dc"),(0,r.kt)("th",f({parentName:"tr"},{align:null}),"\uc124\uba85"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"takeFrameBufferSemaphore")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \ub300\ud55c \ub3c5\uc810 \uc561\uc138\uc2a4 \uad8c\ud55c\uc744 \uc5bb\uae30 \uc704\ud574 TouchGFX Engine\uc5d0\uc11c \ud638\ucd9c\ub429\ub2c8\ub2e4. \uc774 \uba54\uc11c\ub4dc\ub294 DMA2D\uac00 \uc218\ud589\ub420 \ub54c\uae4c\uc9c0(\uc2e4\ud589\ub418\ub294 \uacbd\uc6b0) TouchGFX Engine\uc744 \ucc28\ub2e8\ud569\ub2c8\ub2e4.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"tryTakeFrameBufferSemaphore")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\uc7a0\uae08\uc774 \uc2e4\ud589\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4. \uc774 \uba54\uc11c\ub4dc\ub294 \ucc28\ub2e8\uc744 \uc9c1\uc811 \ud558\uc9c0 \uc54a\uace0 takeFrameBufferSemaphore\uc5d0 \ub300\ud55c \ub2e4\uc74c \ud638\ucd9c\uc774 \ud638\ucd9c\uc790\ub97c \ucc28\ub2e8\ud558\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"giveFrameBufferSemaphore")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\ud504\ub808\uc784 \ubc84\ud37c \uc7a0\uae08\uc744 \ud574\uc81c\ud569\ub2c8\ub2e4.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",f({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"giveFrameBufferSemaphoreFromISR")),(0,r.kt)("td",f({parentName:"tr"},{align:null}),"\uc778\ud130\ub7fd\ud2b8 \ucee8\ud14d\uc2a4\ud2b8\uc5d0\uc11c \ud504\ub808\uc784 \ubc84\ud37c \uc7a0\uae08\uc744 \ud574\uc81c\ud569\ub2c8\ub2e4.")))),(0,r.kt)(l.Z,{mdxType:"Tip"},"TouchGFX Generator\ub294 OSWrappers \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud574 \ub3d9\uae30\ud654\ud558\ub294 ChromART \ub4dc\ub77c\uc774\ubc84\ub97c \ube44\ub86f\ud574, \uc120\ud0dd\ud55c RTOS\uc5d0 \ub530\ub77c \uc774\ub7ec\ud55c \ub3d9\uae30\ud654\ub97c \uc218\ud589\ud558\ub294 \ud568\uc218\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h2",f({},{id:"report-the-next-available-framebuffer-area"}),"\ucc28\uae30 \uac00\uc6a9 \ud504\ub808\uc784 \ubc84\ud37c \uc601\uc5ed \ubcf4\uace0"),(0,r.kt)("p",null,"\ub80c\ub354\ub9c1 \uc804\ub7b5\uc5d0 \uad00\uacc4\uc5c6\uc774 TouchGFX Engine\uc740 \uac01\uac01\uc758 \ud2f1\uc5d0\uc11c \ud53d\uc140\uc744 \ub80c\ub354\ub9c1\ud574\uc57c \ud558\ub294 \uba54\ubaa8\ub9ac \uc601\uc5ed\uc744 \uc54c\uc544\uc57c \ud569\ub2c8\ub2e4. TouchGFX Engine\uc740 \ub2e8\uc77c \ub610\ub294 \uc774\uc911 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc804\uccb4 \ub108\ube44, \ub192\uc774 \ubc0f \ube44\ud2b8 \uc2ec\ub3c4\uc5d0 \ub530\ub77c \uba54\ubaa8\ub9ac \uc601\uc5ed\uc5d0 \ud53d\uc140 \ub370\uc774\ud130\ub97c \uae30\ub85d\ud569\ub2c8\ub2e4. \ub610\ud55c \uc774\uc911 \ubc84\ud37c \uc124\uc815\uc5d0\uc11c \ub450 \ubc84\ud37c \uac04\uc758 \uc2a4\uc651\ub3c4 \uad00\ub9ac\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \ub300\ud55c \uc561\uc138\uc2a4 \uad8c\ud55c\uc744 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc77c\ubd80\ub85c \uc81c\ud55c\ud558\ub294 \uac83\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"HAL::getTFTCurrentLine()"),"\xa0\uba54\uc18c\ub4dc\ub294 HAL \ud558\uc704 \ud074\ub798\uc2a4\uc5d0\uc11c \uc7ac\uad6c\ud604\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4. TouchGFX Engine\uc774 \uadf8\ub9ac\uae30\ub97c \uc704\ud574 \uc800\uc7a5\ud55c \uba54\uc18c\ub4dc \uc704\uc758 \ub77c\uc778 \ubc88\ud638\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uac1c\ubc1c\uc790\ub294 \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud574 TouchGFX Engine\uc774 \ub80c\ub354\ub9c1 \uc2dc \uc0ac\uc6a9\ud558\uac8c \ub420 \uba54\ubaa8\ub9ac\uc758 \ube14\ub85d\uc744 1\uac1c \uc774\uc0c1 \uc815\uc758\ud569\ub2c8\ub2e4. \uc774\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740\xa0",(0,r.kt)("a",f({parentName:"p"},{href:"../scenarios/lowering-memory-usage-with-partial-framebuffer"}),"\uc5ec\uae30"),"\ub97c \ucc38\uc870\ud558\uc2ed\uc2dc\uc624."),(0,r.kt)(l.Z,{mdxType:"Tip"},"TouchGFX Generator\ub294 \uc9c0\uc6d0\ub418\ub294 \ubaa8\ub4e0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uc704\ud55c \uad6c\uc131\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h2",f({},{id:"perform-render-operations"}),"\ub80c\ub354\ub9c1 \uc791\uc5c5 \uc218\ud589"),(0,r.kt)("p",null,"\uadf8\ub798\ud53d \ub80c\ub354\ub9c1 \ubc0f \ud45c\uc2dc\uac00 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc720\uc77c\ud55c \ubaa9\uc801\uc778 \uacbd\uc6b0\ub294 \uac70\uc758 \uc5c6\uc2b5\ub2c8\ub2e4. CPU\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 \ub2e4\ub978 \uc791\uc5c5\ub4e4\ub3c4 \ud544\uc694\ud569\ub2c8\ub2e4. TouchGFX\uc758 \ubaa9\ud45c \uc911 \ud558\ub098\ub294 \uac00\ub2a5\ud55c \uc801\uc740 CPU \uc8fc\uae30\ub97c \uc0ac\uc6a9\ud574 \uc0ac\uc6a9\uc790 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uadf8\ub9ac\ub294 \uac83\uc785\ub2c8\ub2e4. HAL \ud074\ub798\uc2a4\ub294 \ub9ce\uc740 STM32 \ub9c8\uc774\ud06c\ub85c\ucee8\ud2c0\ub85c\ub7ec(\ub610\ub294 \uae30\ud0c0 \ud558\ub4dc\uc6e8\uc5b4 \uae30\ub2a5)\uc5d0\uc11c \ub098\ud0c0\ub098\ub294 DMA2D\ub97c \ucd94\uc0c1\ud654\ud558\uc5ec \uc774\ub97c TouchGFX Engine\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \uc9c0\uc6d0\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"TouchGFX Engine\uc740 \ube44\ud2b8\ub9f5 \uac19\uc740 \uc790\uc0b0\uc744 \ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \ub80c\ub354\ub9c1\ud560 \ub54c HAL\uc5d0 \ube44\ud2b8\ub9f5\uc758 \uc77c\ubd80 \ub610\ub294 \uc804\uccb4\ub97c \ud504\ub808\uc784 \ubc84\ud37c\ub85c '\ube14\ub9bf(blit, block transfer)' \ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4. \ube14\ub9bf \uae30\ub2a5\uc774 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub294 \uadf8\ub9ac\uae30 \uc791\uc5c5\uc774 CPU\uc5d0\uc11c \ucc98\ub9ac\ub418\ub294 \ub300\uc2e0 HAL\uc5d0 \uc704\uc784\ub429\ub2c8\ub2e4."),(0,r.kt)("p",null,"TouchGFX Engine\uc740\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"HAL::getBlitCaps()"),"\xa0\uba54\uc18c\ub4dc\ub97c \ud638\ucd9c\ud558\uc5ec \ud558\ub4dc\uc6e8\uc5b4\uc758 \uae30\ub2a5\uc5d0 \ub300\ud55c \uc124\uba85\uc744 \uac00\uc838\uc635\ub2c8\ub2e4. HAL \ud558\uc704 \ud074\ub798\uc2a4\ub294 \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uae30 \uc704\ud574 \uc774\ub97c \ub2e4\uc2dc \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"TouchGFX Engine\uc740 \uc0ac\uc6a9\uc790 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uadf8\ub9ac\ub294 \ub3d9\uc548 HAL \ud074\ub798\uc2a4\uc5d0\uc11c \uc5f0\uc0b0(\uc608: DMA\uc5d0 \ub300\ud55c \uc5f0\uc0b0\uc744 \ub300\uae30\uc5f4\uc5d0 \uc800\uc7a5\ud558\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"HAL::blitCopy)"),"\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. HAL\uc774 \ud544\uc694\ud55c \uae30\ub2a5\uc744 \ubcf4\uace0\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0, TouchGFX Engine\uc740 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ub80c\ub354\ub9c1 \ud3f4\ubc31(fallback)\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",(0,r.kt)(l.Z,{mdxType:"Tip"},' \ub9ce\uc740 STM32 MCU\ub4e4\uc774 ChromART \uce69\uc744 \uac00\uc9c0\uace0 \uc788\uc5b4\uc11c \ud53d\uc140\uc5d0 \ub300\ud55c \uc54c\ud30c \ube14\ub80c\ub529\uc744 \uc218\ud589\ud558\ub294 \ub3d9\uc548 \uc608\ub97c \ub4e4\uba74 \uc678\ubd80 \ud50c\ub798\uc2dc \uba54\ubaa8\ub9ac\uc5d0\uc11c \ud504\ub808\uc784 \ubc84\ud37c\ub85c \ub370\uc774\ud130\ub97c \uc62e\uae38 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9ce\uc740 MCU\uc5d0\uc11c TouchGFX Generator\ub294 ChromART \uce69\uc744 \uc0ac\uc6a9\ud574 \uba87\uba87 "\ube14\ub9bf(blit)" \uc5f0\uc0b0 \uae30\ub2a5\uc744 \ucd94\uac00\ud558\ub294 ChromART \ub4dc\ub77c\uc774\ubc84\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ')),(0,r.kt)("h2",f({},{id:"handle-framebuffer-transfer-to-display"}),"\ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\uc1a1 \ucc98\ub9ac"),(0,r.kt)("p",null,'\ud504\ub808\uc784 \ubc84\ud37c\ub97c \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc804\ub2ec\ud558\uae30 \uc704\ud574 TouchGFX AL\uc5d0\uc11c\ub294 "Rendering of area complete" \ud6c4\ud06c\uac00 \uc8fc\ub85c \uc0ac\uc6a9\ub429\ub2c8\ub2e4. TouchGFX Engine\uc740 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc77c\ubd80\uc5d0 \ub300\ud55c \ub80c\ub354\ub9c1\uc774 \uc644\ub8cc\ub418\uba74 AL\uc744 \uc2dc\uadf8\ub110\ub9c1\ud569\ub2c8\ub2e4. AL\uc740 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc774 \ubd80\ubd84\uc744 \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc804\uc1a1\ud558\ub294 \ubc29\ubc95\uc744 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.'),(0,r.kt)("h3",f({},{id:"rendering-of-area-complete"}),"\uc804\uccb4 \uc601\uc5ed \ub80c\ub354\ub9c1"),(0,r.kt)("p",null,"\ucf54\ub4dc\uc5d0\uc11c \uc774\ub7ec\ud55c \ud6c4\ud06c\ub294 \uac00\uc0c1 \ud568\uc218 ",(0,r.kt)("inlineCode",{parentName:"p"},"HAL::flushFrameBuffer(Rect& rect)"),"\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"LTDC \ucee8\ud2b8\ub864\ub7ec\ub97c \uc7a5\ucc29\ud55c STM32 \ub9c8\uc774\ud06c\ub85c\ucee8\ud2b8\ub864\ub7ec\uc5d0\uc11c\ub294 \ubaa8\ub4e0 \ub80c\ub354\ub9c1 \uc774\ud6c4\uc5d0 \ud504\ub808\uc784 \ubc84\ud37c\ub97c \uc804\uc1a1\ud558\uae30 \uc704\ud55c \uc791\uc5c5\uc744 \uc218\ud589\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. LTDC\uac00 \uac1c\uc2dc\ub41c \uc774\ud6c4\uc5d0 \uc77c\uc815\ud55c \uc8fc\uae30\ub85c \uc804\uc1a1\uc774 \uacc4\uc18d \uc774\ub8e8\uc5b4\uc9c0\uae30 \ub54c\ubb38\uc5d0 \uc774 \uba54\uc11c\ub4dc\ub97c \ube48 \uc0c1\ud0dc\ub85c \ub0a8\uaca8\ub458 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"SPI\ub098 8080 \uac19\uc740 \ub2e4\ub978 \ub514\uc2a4\ud50c\ub808\uc774 \uc720\ud615\uc5d0\uc11c\ub294 \ud504\ub808\uc784 \ubc84\ud37c\ub97c \uc218\ub3d9\uc73c\ub85c \uc804\uc1a1\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774 \ud568\uc218\ub97c \uad6c\ud604\ud558\uba74 \uac1c\ubc1c\uc790\uac00 GRAM\uc5d0\uc11c \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \ud574\ub2f9 \uc601\uc5ed\uc744 \uc218\ub3d9 \uc804\uc1a1\ud558\ub294 \uc791\uc5c5\uc744 \uac1c\uc2dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",f({parentName:"pre"},{className:"language-cpp",metastring:"{9-9}","{9-9}":!0}),"void TouchGFXHAL::flushFrameBuffer(const touchgfx::Rect& r)\n{\n    HAL::flushFrameBuffer(rect); //call superclass\n\n    //start transfer if not running already!\n    if (!IsTransmittingData())\n    {\n        const uint8_t* pixels = ...; // Calculate pixel address\n        SendFrameBufferRect((uint8_t*)pixels, r.x, r.y, r.width, r.height);\n    }\n    else\n    {\n       ... // Queue rect for later or wait here\n    }\n}\n")),(0,r.kt)(i.Z,{mdxType:"FurtherReading"},"\ub2e4\uc591\ud55c \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc9c0\uc6d0\ud558\ub294 \ubc29\ubc95\uc758 \uad6c\uccb4\uc801\uc778 \uc608\ub294 \uc2dc\ub098\ub9ac\uc624\ub97c \ucc38\uc870\ud558\uc2ed\uc2dc\uc624."))}C.isMDXComponent=!0}}]);