<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/board-bring-up/how-to/02-cpu-running">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.21/ko/opensearch.xml">
<script src="/4.21/ko/js/one-trust.js"></script>
<script src="/4.21/js/fix-location.js"></script><title data-rh="true">2. CPU Running | TouchGFX Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.21/ko/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.21/ko/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2. CPU Running | TouchGFX Documentation"><link data-rh="true" rel="icon" href="/4.21/ko/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/ja/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/zh-CN/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/zh-TW/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.21/docs/development/board-bring-up/how-to/02-cpu-running" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/4.21/ko/assets/css/styles.2fc40eaa.css">
<link rel="preload" href="/4.21/ko/assets/js/runtime~main.8e7e278d.js" as="script">
<link rel="preload" href="/4.21/ko/assets/js/main.e640376c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region"><a href="#" class="skipToContent_fXgn">주요 내용으로 건너뛰기</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.21/ko/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.21/ko/img/logo.svg" alt="TouchGFX" class="themedImage_ToTc themedImage--light_HNdA"><img src="/4.21/ko/img/logo.svg" alt="TouchGFX" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">한국어</a><ul class="dropdown__menu"><li><a href="/4.21/docs/development/board-bring-up/how-to/02-cpu-running" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">한국어</a></li><li><a href="/4.21/ja/docs/development/board-bring-up/how-to/02-cpu-running" target="_self" rel="noopener noreferrer" class="dropdown__link">日本語</a></li><li><a href="/4.21/zh-CN/docs/development/board-bring-up/how-to/02-cpu-running" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li><li><a href="/4.21/zh-TW/docs/development/board-bring-up/how-to/02-cpu-running" target="_self" rel="noopener noreferrer" class="dropdown__link">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.21/ko/docs/introduction/welcome">4.21</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running">4.21</a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="검색하기"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">검색하기</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ko/docs/category/introduction">Introduction</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Introduction&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ko/docs/category/basic-concepts">Basic Concepts</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Basic Concepts&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.21/ko/docs/development/development-introduction">Development</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Development&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ko/docs/development/hardware-selection/hardware-selection-introduction">Hardware Selection</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Hardware Selection&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/board-introduction">Board Bring Up</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Board Bring Up&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/01-create-project">1. Create Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/02-cpu-running">2. CPU Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/03-display-internal">3. 내부 RAM에서 프레임 버퍼를 가지는디스플레이</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/04-enable-external-ram">4. External RAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/05-display-external">5. 외부 RAM에서 프레임 버퍼를 가지는 디스플레이</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/06-flash-external-addressable">6. External addressable flash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/07-flash-external-nonaddressable">7. External flash in block mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/08-hardware-acceleration">8. Hardware acceleration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/09-touch-controller">9. Touch Controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/10-physical-buttons">10. Physical Buttons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.21/ko/docs/development/board-bring-up/how-to/11-flash-loader">11. Flash Loader</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ko/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL Development</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;TouchGFX AL Development&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ko/docs/development/ui-development/ui-development-introduction">UI Development</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;UI Development&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.21/ko/docs/category/scenarios-2">Scenarios</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Scenarios&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ko/docs/category/miscellaneous-1">Miscellaneous</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Miscellaneous&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ko/docs/category/tutorials">Miscellaneous</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Miscellaneous&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4.21/ko/docs/api/classes/classtouchgfx_1_1_abstract_button">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.21/ko/docs/category/resources">Resources</a><button aria-label="접을 수 있는 사이드바 카테고리 &#x27;Resources&#x27; 토글" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.21/ko/docs/development/development-introduction"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.21/ko/docs/development/board-bring-up/board-introduction"><span itemprop="name">Board Bring Up</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">2. CPU Running</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>2. CPU Running</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">개요<a class="hash-link" href="#motivation" title="제목에 대한 직접 링크">​</a></h2><p>이 섹션에서는 MCU 코어, 내부 RAM 및 플래시가 원하는 클록 속도로 실행이 되는지 확인해보겠습니다.</p><p>TouchGFX는 어떤 MCU 속도에서든 실행이 가능하지만, 클록 구성이 잘못되면 성능이 필요한 수준보다 낮아질 수 있습니다. 추후 보드 브링업 단계에서 특정 타이밍 파라미터(예: 터치 컨트롤러를 위한 I2C 클록)를 구성해야 합니다. 이는 MCU가 올바른 속도로 실행되는지 확인하지 않고서는 불가능한 작업입니다.</p><p>STM32 마이크로컨트롤러에 대한 시스템 클록을 설정합니다. 그러면 이 클록이 분할되어 FCLK 코어 클록과 다양한 주변 장치 클록(예: APB1 주변 장치 클록) 을 생성합니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="goal">목표<a class="hash-link" href="#goal" title="제목에 대한 직접 링크">​</a></h2><p>이 섹션의 목표는 프로젝트를 수정하여 올바른 클록 구성을 얻는 것입니다. 또한 내부 RAM과 플래시가 예상 속도로 실행 중인지도 확인해야 합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verification">확인<a class="hash-link" href="#verification" title="제목에 대한 직접 링크">​</a></h3><p>다음은 이 섹션에서 확인해야 할 사항입니다.</p><table><thead><tr><th>확인사항</th><th>확인근거</th></tr></thead><tbody><tr><td>SystemCoreClock 변수의 값이 올바른지 여부</td><td>마이크로컨트롤러가 원하는 주파수에서 실행되도록 구성되었습니다.</td></tr><tr><td>내부 RAM이 읽기 가능한지 여부</td><td>마이크로컨트롤러가 예상 용량의 내부 RAM을 가지고 있으며, 읽기가 가능하고, 속도가 측정됩니다.</td></tr><tr><td>내부 플래시가 읽기 가능한지 여부</td><td>마이크로컨트롤러가 예상 용량의 내부 플래시를 가지고 있으며, 읽기가 가능하고, 속도가 측정됩니다.</td></tr><tr><td>캐시 비활성화 여부</td><td>캐시가 비활성화된 상태에서 시스템을 실행하면 시스템이 덜 복잡하고 이해하기가 더 쉽습니다.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">전제 조건<a class="hash-link" href="#prerequisites" title="제목에 대한 직접 링크">​</a></h2><p>다음은 이 단계에 대한 전제 조건입니다:</p><ul><li>하드웨어 상의 클록 소스에 대한 정보. 보통은 크리스탈을 사용하지만 다른 솔루션도 가능합니다.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="do">실행<a class="hash-link" href="#do" title="제목에 대한 직접 링크">​</a></h2><p>지금부터는 필요한 MCU 주파수를 얻기 위해 프로젝트의 클록 구성을 조정하는 단계에 대해 알아보겠습니다. 그런 다음, 내부 플래시의 읽기 속도를 측정하는 방법에 대해 알아보겠습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-clock">시스템 클록<a class="hash-link" href="#system-clock" title="제목에 대한 직접 링크">​</a></h3><p>STM32CubeMX에서 &quot;Clock Configuration&quot; 탭을 클릭하면 특정 MCU에 대한 클록 트리의 개요가 나타납니다.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-01.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-01.webp"></a><p>클록 구성</p></div><p>이 예제에서는 클록 소스로 HSI를 선택했습니다. 많은 프로젝트들이 외부 크리스탈을 사용하고 있고, 적정 분배기(/M) 와 증배기(/N) 가 포함된 HSE를 사용해야 합니다. 클록 구성에 대한 자세한 설명은 이 가이드에서 다루지 않도록 하겠습니다. 클록 구성을 변경한 후에는 STM32CubeMX에서 프로젝트를 다시 생성해야 합니다(오른쪽 상단 모서리의 &#x27;Generate Code&#x27; 클릭).</p><p>생성된 코드를 통해 코어 클록(HCLK) 을 런타임 시 계산해서 변수에 저장할 수 있습니다. 이 변수는 클록 사이클과 초(예: 시작 타이머) 간의 올바른 전환을 위해 애플리케이션 코드에서 사용됩니다. 변수를 다시 계산하려면 SystemCoreClockUpdate() 함수를 호출해야 합니다. 사용자 코드 섹션에서 main.c에 호출을 삽입합니다.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-02.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-02.webp"></a><p>SystemCoreClockUpdate</p></div><p>함수 마지막에 중단점을 설정한 경우에는 구성에 따라 코어 클록을 확인할 수 있습니다.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-03.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-03.webp"></a><p>SystemCoreClock</p></div><p>테스트에 있어 또 다른 중요 포인트는 바로 System Timer입니다. 이 타이머는 분할된 HCLK에서 실행되어 1ms마다 인터럽트를 제공합니다. 또한 STM32Cube 펌웨어에서 ms 단위의 delay를 구현하는 데 사용됩니다.</p><p>예를 들어 메인 루프에 5초의 delay를 삽입해서 이 타이머를 테스트할 수 있습니다. 스톱워치나 유사한 수단을 이용해 확인하십시오.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-04.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-04.webp"></a><p>지연 시간 측정</p></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flash-and-ram-size-and-speed">플래시와 RAM의 크기 및 속도<a class="hash-link" href="#flash-and-ram-size-and-speed" title="제목에 대한 직접 링크">​</a></h3><p>System Timer를 사용하면 메모리의 읽기 속도를 손쉽게 확인할 수 있습니다. System Timer 인터럽트는 밀리초마다 변수를 증가시킵니다. 코드 조각 전후에 이 변수를 읽어서 코드의 실행 시간을 측정할 수 있습니다(1ms의 해상도로). 이러한 방법을 이용해 애플리케이션의 여러 다른 위치에서도 시간을 측정할 수 있습니다. 오실로스코프 같은 외부 장치가 없다면 아주 정확하지는 않더라도 어느 정도 정확성을 얻을 수 있습니다.</p><p>이를 위해서는 먼저 결과를 저장하기 위한 2개의 휘발성 변수가 필요합니다. 여기에 결과를 저장하지 않으면 컴파일러 최적화 과정에서 측정 중인 코드가 제거되는 경우가 발생합니다.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-05.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-05.webp"></a><p>측정 결과를 유지하는 글로벌 휘발성 변수</p></div><p>아래에는 0x08000000 ~ 0x08020000(128Kb) 까지 플래시를 읽고 코드의 실행 시간을 측정하는 예가 나와 있습니다:</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/img-06.webp" target="_blank"><img width="600" src="/4.21/ko/img/development/board-bring-up/cpu-running/img-06.webp"></a><p>읽기 루프 시간 측정</p></div><p>이와 같은 코드를 사용해 서로 다른 메모리의 속도를 확인할 수 있습니다. STM32CubeMX에 설정이 생성되면 읽기 속도를 측정하고 결과를 메모할 수 있습니다. 이후에 측정을 반복해서 수행하고 결과를 확인할 수 있습니다.  메모리의 대역폭(kb/s 단위의 읽기 속도)을 측정하려는 경우에는 측정된 시간과 데이터의 양을 비교할 수 있습니다.</p><p>STM32F429 16MHz 에서 코드는 12ms마다 실행되어 128kb/0.012s(10,666 kb/s) 의 내부 플래시(이 메서드 사용) 읽기 속도를 제공합니다.</p><p>위와 동일한 루프를 손쉽게 변경해서 모든 내부 플래시의 활성화 및 읽기 가능 여부를 확인할 수 있습니다. 시작 주소와 끝 주소만 바꾸면 됩니다.</p><p>또한 코드는 내부 RAM도 확인할 수 있습니다. F429의 RAM은 주소 0x20000000에서 시작합니다. 코어 커플드 메모리(CCM, Core Coupled Memory) 은 0x10000000에서 시작합니다. 해당 메모리 주소의 MCU는 데이터 시트에서 확인하십시오.</p><p>서로 다른 메모리를 몇 차례 측정하고 그 결과를 메모해둬야 합니다. RAM에서는 읽기 속도와 쓰기 속도를 모두 테스트하십시오.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linker-script">링커 스크립트<a class="hash-link" href="#linker-script" title="제목에 대한 직접 링크">​</a></h3><p>또 하나 살펴봐야 할 것이 링커 스크립트입니다. 이 구성 파일은 링커에게 시스템의 RAM 및 플래시 주소를 알려줍니다. 링커 스크립트는 프로젝트와 함께 CubeMX에서 생성이 되지만, 검토 해보는 것이 좋습니다. 대부분의 경우에는 추후에 프로젝트의 요구에 맞게 이를 수정해야 합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-on-f7-and-h7">F7 및 H7의 캐시<a class="hash-link" href="#cache-on-f7-and-h7" title="제목에 대한 직접 링크">​</a></h3><p>ARM Cortex-M7 기반의 STM32F7 및 STM32H7 마이크로컨트롤러에는 데이터와 명령어 캐시가 포함되어 있습니다. 안정적인 플랫폼이 확보될 때까지 최소한 데이터 캐시라도 비활성화하는 것이 좋습니다. 데이터 캐시는 많은 경우에 성능을 대폭 강화하지만, 테스트 과정에서 복잡성을 초래하기도 합니다.</p><p>안정적인 플랫폼이 확보되면 데이터 캐시를 활성화할 수 있습니다. 플랫폼은 해당 문제가 데이터 캐시 관리에서 비롯된 것인지 손쉽게 식별할 수 있는데, 이는 캐시 문제가 아니면 플랫폼이 제대로 작동하기 때문입니다.</p><p>데이터 캐시의 복잡성은 MCU 코어가 캐시에 대해 읽기와 쓰기를 수행한다는 사실에서 비롯된 것입니다. 반면에 DMA2나 LTDC 같은 주변 장치들은 메모리에서 직접(캐시에서가 아니라) 읽기를 수행합니다.  이러한 이유로 예를 들어 프레임 버퍼에 데이터를 기록해도 디스플레이에 일부 데이터가 표시되지 않는 상황이 발생할 수 있습니다. 왜냐하면 데이터가 캐시에만 기록이 된다는 점에서 LTDC가 RAM에서 새 데이터를 찾지 않았기 때문입니다. 프로젝트의 특정 시점에서 캐시를 정리(flushing) 하는 것도 해결책이지만, 나중에 이 문제를 처리하는 것이 좋습니다.</p><p>System Core 섹션의 STM32CubeMX에서 캐시를 비활성화/활성화할 수 있습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="touchgfx-internal-dcache-state-machine">TouchGFX의 내부 DCache 상태 머신<a class="hash-link" href="#touchgfx-internal-dcache-state-machine" title="제목에 대한 직접 링크">​</a></h4><p>TouchGFX Engine은 현재 및 마지막 렌더링 작업을 추적하는데, 상태는 <code>HARDWARE</code>와<code> SOFTWARE</code> 두 가지입니다. 그리기 작업의 대다수가 하드웨어에서 수행되므로 초기 상태는 HARDWARE로 설정되어 있습니다. 상태 전환이 발생하면 상태 머신은 해당하는 가상 함수를 호출하여 캐시 무효화를 처리합니다. 상태가 HARDWARE에서 SOFTWARE로 바뀌면 가상 메소드 void touchgfx::HAL::InvalidateCache()를 호출하고, SOFTWARE에서 HARDWARE로 바뀌면 가상 메서드 void touchgfx::HAL::FlushCache()를 호출합니다. 파생된 HAL 클래스에서 사용자가 구현할 수 있도록 이러한 두 함수의 기능이 남아 있습니다.</p><div class="figure"><a href="/4.21/ko/img/development/board-bring-up/cpu-running/cm7-cache-invalidation-statemachine.svg" target="_blank"><img src="/4.21/ko/img/development/board-bring-up/cpu-running/cm7-cache-invalidation-statemachine.svg"></a><p>TouchGFX Engine의 내부 DCache 상태 머신</p></div><p>TouchGFX Generator를 사용하고 있는 경우, 이렇게 파생된 메소드는 DCache 무효화를 위한 함수 호출을 통해 TouchGFXGeneratedHAL 클래스에 구현이 되기 때문에 추가 작업이 필요하지 않습니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-readings">추가 자료<a class="hash-link" href="#further-readings" title="제목에 대한 직접 링크">​</a></h2><p>여기에 링크된 문서들에는 STM32CubeMX 및 STM32 캐시에 대한 자세한 정보가 포함되어 있습니다:</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><ul><li><a href="https://www.st.com/content/ccc/resource/technical/document/user_manual/10/c5/1a/43/3a/70/43/7d/DM00104712.pdf/files/DM00104712.pdf/jcr:content/translations/en.DM00104712.pdf" target="_blank" rel="noopener noreferrer">STM32CubeMX 사용자 매뉴얼의 클록 구성에 대한 섹션</a></li><li><a href="https://www.st.com/content/ccc/resource/technical/document/application_note/group0/08/dd/25/9c/4d/83/43/12/DM00272913/files/DM00272913.pdf/jcr:content/translations/en.DM00272913.pdf" target="_blank" rel="noopener noreferrer">Level 1 cache on STM32F7 and STM32H7</a></li></ul></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지 탐색하기"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.21/ko/docs/development/board-bring-up/how-to/01-create-project"><div class="pagination-nav__sublabel">이전 페이지</div><div class="pagination-nav__label">1. Create Project</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.21/ko/docs/development/board-bring-up/how-to/03-display-internal"><div class="pagination-nav__sublabel">다음 페이지</div><div class="pagination-nav__label">3. 내부 RAM에서 프레임 버퍼를 가지는디스플레이</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link toc-highlight">개요</a></li><li><a href="#goal" class="table-of-contents__link toc-highlight">목표</a><ul><li><a href="#verification" class="table-of-contents__link toc-highlight">확인</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">전제 조건</a></li><li><a href="#do" class="table-of-contents__link toc-highlight">실행</a><ul><li><a href="#system-clock" class="table-of-contents__link toc-highlight">시스템 클록</a></li><li><a href="#flash-and-ram-size-and-speed" class="table-of-contents__link toc-highlight">플래시와 RAM의 크기 및 속도</a></li><li><a href="#linker-script" class="table-of-contents__link toc-highlight">링커 스크립트</a></li><li><a href="#cache-on-f7-and-h7" class="table-of-contents__link toc-highlight">F7 및 H7의 캐시</a></li></ul></li><li><a href="#further-readings" class="table-of-contents__link toc-highlight">추가 자료</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2022 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">이용약관</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">개인정보보호정책</a> | <a href="/docs/miscellaneous/cookie-policy">쿠키정책</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">권리행사</a></div></div></div></footer></div></div>
<script src="/4.21/ko/assets/js/runtime~main.8e7e278d.js"></script>
<script src="/4.21/ko/assets/js/main.e640376c.js"></script>
</body>
</html>